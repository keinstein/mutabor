<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>src/kernel/routing/timing.h Quellcode</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Erzeugt von Doxygen 1.8.13 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',false,false,'search.php','Suchen');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_cbd7f246bdf7dc0a50281a272327e6ed.html">kernel</a></li><li class="navelem"><a class="el" href="../../dir_02be4fa82aae8ff4c4cc45bceb47856f.html">routing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">timing.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/d41/timing_8h.html">gehe zur Dokumentation dieser Datei</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* we guard a little bit complicated to ensure the references are set right</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#if (!defined(ROUTING_TIMINGPARAMS) &amp;&amp; !defined(PRECOMPILE)) \</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">        || (!defined(ROUTING_TIMINGPARAMS_PRECOMPILED))</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#ifndef PRECOMPILE</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="../../d5/dee/group__route.html#ga41f728a9ecdaf08d07f0a1998619ae12">   35</a></span>&#160;<span class="preprocessor">#define ROUTING_TIMINGPARAMS</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// ---------------------------------------------------------------------------</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// headers</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// ---------------------------------------------------------------------------</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d73/Defs_8h.html">src/kernel/Defs.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/dfd/MidiKern_8h.html">src/kernel/MidiKern.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifndef ROUTING_TIMINGPARAMS_PRECOMPILED</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d5/dee/group__route.html#ga9542e9a92310afb4b11bbb393ac98000">   46</a></span>&#160;<span class="preprocessor">#define ROUTING_TIMINGPARAMS_PRECOMPILED</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// system headers which do seldom change</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;exception&gt;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;boost/throw_exception.hpp&gt;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;boost/chrono.hpp&gt;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#if _XOPEN_SOURCE &gt;= 600 || _POSIX_C_SOURCE &gt;= 200112L</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//#elseif __WXMSW__</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;wx/stopwatch.h&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dd5/thread_8h.html">thread.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d6/daa/namespacemutabor.html">mutabor</a> {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d6/daa/namespacemutabor.html#aa2773d800727f97ebb89368e2144c6de">   67</a></span>&#160;        <span class="keyword">typedef</span> boost::chrono::high_resolution_clock <a class="code" href="../../d6/daa/namespacemutabor.html#aa2773d800727f97ebb89368e2144c6de">clocktype</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keyword">using</span> boost::chrono::microseconds;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="comment">//      using boost::chrono::milliseconds;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html">   80</a></span>&#160;        <span class="keyword">class </span><a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a3a9e0ea0478b2ca6e3f33a98c9f2b344">   83</a></span>&#160;                <span class="keyword">typedef</span> microseconds::rep <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a3a9e0ea0478b2ca6e3f33a98c9f2b344">ticktype</a>;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">   84</a></span>&#160;                <span class="keyword">class </span><a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="keyword">public</span>:</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html">   86</a></span>&#160;                        <span class="keyword">class </span><a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html">no_delta</a> {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                        <span class="keyword">public</span>:</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html#a8e97551963f6ac2796d9bb270cf02eaa">   88</a></span>&#160;                                <span class="keyword">static</span> constexpr ticktype <a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html#a8e97551963f6ac2796d9bb270cf02eaa">count</a>() {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                        <span class="keywordflow">return</span> std::numeric_limits&lt;ticktype&gt;::max();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                        };</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae7380014a4355bb39ed657fab042b13a">   93</a></span>&#160;                        constexpr <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae7380014a4355bb39ed657fab042b13a">miditicks</a>(<span class="keyword">const</span> ticktype &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                            <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; <a class="code" href="../../de/d08/test__parser_8cpp.html#a80d88758fdda7b4bb234121699f52a2b">p</a>):<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>(t),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>(p) {}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4fce2e6fabcda79c0b33ccf2c413f974">   97</a></span>&#160;                        <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4fce2e6fabcda79c0b33ccf2c413f974">miditicks</a>(<span class="keyword">const</span> microseconds &amp; ms,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                  <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; <a class="code" href="../../de/d08/test__parser_8cpp.html#a80d88758fdda7b4bb234121699f52a2b">p</a>,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                  <span class="keywordtype">bool</span> midi = <span class="keyword">false</span>):<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>(),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>(p)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                        {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                <span class="keywordflow">if</span> (ms == microseconds::max()) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                        <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> = std::numeric_limits&lt;ticktype&gt;::max();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                <span class="keywordflow">if</span> (midi) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                        ticktype factor = p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>?</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                                1000000/p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>:</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                                p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count()/p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                        <span class="comment">// The calculation should</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                        <span class="comment">// round for 25 fps 40</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                        <span class="comment">// subframes correctly</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                        <span class="comment">// microseconds to</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                        <span class="comment">// milliseconds if in daubt:</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                        <span class="comment">// round up as time</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                        <span class="comment">// calculation rounds down.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                        <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> = (2 * ms.count() + factor + 1) / (2 * factor);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                        <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> = p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>?</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                                (ms.count() * p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> + 500000) / 1000000:</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                                (ms.count() * p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> + (p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count()+1)/2)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                                / p.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a2eb211d2f89fda35d77f747c7ecb2bbf">  127</a></span>&#160;                        constexpr ticktype <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a2eb211d2f89fda35d77f747c7ecb2bbf">count</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>; }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a2a0d5126c4623b6520696c4de4b44ad6">  129</a></span>&#160;                        ticktype <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a2a0d5126c4623b6520696c4de4b44ad6">count_in_range</a>(ticktype from, ticktype to) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> &lt;= from) <span class="keywordflow">return</span> from;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                <span class="keywordflow">if</span> (to &lt; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>) <span class="keywordflow">return</span> to;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                        }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#aa0490dcbee65f314209c864525761e19">  135</a></span>&#160;                        constexpr microseconds <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#aa0490dcbee65f314209c864525761e19">mus</a> ()<span class="keyword"> const </span>{</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                <span class="keywordflow">return</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                        microseconds(<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>?</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                                     ((<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> * 1000000 + (<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>+1)/2)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                      /<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>):</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                                     (<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> * <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count() +</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                                      (<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> + 1)/2)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                                     /<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#af5335fa943414e65d324780d0590e7d3">  145</a></span>&#160;                        constexpr microseconds <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#af5335fa943414e65d324780d0590e7d3">midi_mus</a> ()<span class="keyword"> const </span>{</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                <span class="keywordflow">return</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                        microseconds(<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>. <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>?</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                            <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> * (1000000/<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>):</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                            <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> * (<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count()/<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>));</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a7998ce323603228e48b1386a994ff349">  153</a></span>&#160;                        <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> &amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a7998ce323603228e48b1386a994ff349">set_zero</a>() {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> = 0;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a3a3f907393c77708f4050362990604f5">  158</a></span>&#160;                        <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> &amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a3a3f907393c77708f4050362990604f5">operator = </a>(<span class="keyword">const</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> &amp; o) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                <span class="keywordflow">if</span> (&amp;<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a> != &amp;(o.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>)) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                        BOOST_THROW_EXCEPTION(std::invalid_argument(<a class="code" href="../../d9/d7c/group__kernel.html#ga78c9a8a19031e20ef02260f2ccee563a">_mutN</a>(<span class="stringliteral">&quot;Trying to assign a miditicks object with different timing parameters&quot;</span>)));</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> = o.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a5489459e90d11230ccf11d0117f88f6b">  166</a></span>&#160;                        constexpr <span class="keywordtype">bool</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a5489459e90d11230ccf11d0117f88f6b">is_in_range</a>(ticktype from, ticktype to)<span class="keyword"> const </span>{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                <span class="keywordflow">return</span> from &lt;= <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> &amp;&amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> &lt; to;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                        }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4c58aace10bc8bca8ceef43350cc7d0b">  170</a></span>&#160;                        <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> &amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a3a3f907393c77708f4050362990604f5">operator = </a>(<span class="keyword">const</span> <a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html">no_delta</a> &amp; o) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> = o.<a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html#a8e97551963f6ac2796d9bb270cf02eaa">count</a>();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a861007369ffcfed8027bc97b440b640e">  176</a></span>&#160;                        constexpr <span class="keywordtype">bool</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a861007369ffcfed8027bc97b440b640e">operator == </a>(<span class="keyword">const</span> <a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html">no_delta</a> &amp; o)<span class="keyword"> const </span>{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> == o.<a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html#a8e97551963f6ac2796d9bb270cf02eaa">count</a>();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ad262388a5993e91d664224c9306a36af">  180</a></span>&#160;                        <span class="keywordtype">bool</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a861007369ffcfed8027bc97b440b640e">operator == </a>(<span class="keyword">const</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> &amp; o)<span class="keyword"> const </span>{</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                <span class="keywordflow">if</span> (&amp;<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a> != &amp;(o.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>)) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                <span class="keywordflow">return</span> (<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> == o.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4a1fee96fdcbcb889ad55959d8a86c14">  187</a></span>&#160;                        <span class="keywordtype">bool</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4a1fee96fdcbcb889ad55959d8a86c14">operator != </a>(<span class="keyword">const</span> <a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html">no_delta</a> &amp; o)<span class="keyword"> const </span>{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> != o.<a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html#a8e97551963f6ac2796d9bb270cf02eaa">count</a>();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#af489870798af9abcd515319e6f773c69">  191</a></span>&#160;                        <span class="keywordtype">bool</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4a1fee96fdcbcb889ad55959d8a86c14">operator != </a>(<span class="keyword">const</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> &amp; o)<span class="keyword"> const </span>{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                <span class="keywordflow">if</span> (&amp;<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a> != &amp;(o.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>)) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                <span class="keywordflow">return</span> (<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> != o.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                        }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a00e2c9c59838124e8ca6089b93c81af1">  198</a></span>&#160;                        std::ostream &amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a00e2c9c59838124e8ca6089b93c81af1">write</a>(std::ostream &amp; o)<span class="keyword"> const </span>{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                o &lt;&lt; <span class="stringliteral">&quot;ticks: &quot;</span> &lt;&lt; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a> &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; (<a class="code" href="../../dc/d46/scale__lexer_8cc.html#a25093e36e9fb377b246945a84745823f">std::string</a>)(<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                <span class="keywordflow">return</span> o;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keyword">protected</span>:</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">  203</a></span>&#160;                        ticktype <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">ticks</a>;</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">  204</a></span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">params</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                };</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#aea75bc17f57e6b33220051d33feaa782">  214</a></span>&#160;                constexpr <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aea75bc17f57e6b33220051d33feaa782">timing_params</a> ():</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>(true),</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">fps</a>(0),</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>(500000),</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>(1000) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a65542a529dbc232eeaff67d2186017d6">  226</a></span>&#160;                constexpr <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a65542a529dbc232eeaff67d2186017d6">timing_params</a> (<span class="keyword">const</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; o):</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>(o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>),</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">fps</a>(o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">fps</a>),</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>(o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>),</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>(o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a07e795c5aa491e75f0e693b51a2428a7">  238</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a07e795c5aa491e75f0e693b51a2428a7">reset</a> () {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">fps</a> = 0;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a> = microseconds(500000);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> = 1000;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#ad39a933b56c1569b8c181020241273c3">  251</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ad39a933b56c1569b8c181020241273c3">set_quarter_duration</a>(<span class="keyword">const</span> microseconds &amp; d) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        <span class="keywordflow">if</span> (d &lt;= microseconds(0))</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                BOOST_THROW_EXCEPTION(std::range_error(<span class="stringliteral">&quot;duration must be positive&quot;</span>));</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a> = d;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a0feed6ec7305b25c43790965c67e6836">  263</a></span>&#160;                constexpr microseconds <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a0feed6ec7305b25c43790965c67e6836">get_quarter_duration</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>; }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">                void set_ticks(mutint64 t) {</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">                        quarter_divisions = t;</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">                }</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a364b485c00e2f442f055465ea0a2993b">  279</a></span>&#160;                constexpr ticktype <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a364b485c00e2f442f055465ea0a2993b">get_ticks</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>; }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                constexpr microseconds get_time_midi(<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> d)<span class="keyword"> const </span>{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                        <span class="keywordflow">return</span> d.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#af5335fa943414e65d324780d0590e7d3">midi_mus</a>();</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                constexpr microseconds get_time_exact(<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> d)<span class="keyword"> const </span>{</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <span class="keywordflow">return</span> d.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#aa0490dcbee65f314209c864525761e19">mus</a>();</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                constexpr <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> get_delta_midi(microseconds time) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        ticktype factor = <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>?</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                1000000/<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>:</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count()/<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        <span class="comment">// The calculation should round for 25 fps 40 subframes correctly microseconds to milliseconds</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        <span class="comment">// if in daubt: round up as time calculation rounds down.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        <span class="keywordflow">return</span> (2 * time.count() + factor + 1) / (2 * factor);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae7380014a4355bb39ed657fab042b13a">miditicks</a>(time, *<span class="keyword">this</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                constexpr <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">miditicks</a> get_delta_exact(microseconds time) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>?</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                (time.count() * <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> + 500000) / 1000000:</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                (time.count() * <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> + (<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count()+1)/2)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                / <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count();</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae7380014a4355bb39ed657fab042b13a">miditicks</a>(time, *<span class="keyword">this</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                std::pair&lt;uint8_t,uint8_t&gt; <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#af079d3630d39bfcdb1255ef8dabe52dd">get_MIDI_tick_signature</a>();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#acd1d82276b80f1c324c766ab721b8a48">set_MIDI_tick_signature</a>(uint8_t <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">fps</a>, uint8_t <a class="code" href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html#a8e97551963f6ac2796d9bb270cf02eaa">count</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a8c9ecfda38547766927e3c992e0d4cb7">  391</a></span>&#160;                <span class="keyword">static</span> microseconds <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a8c9ecfda38547766927e3c992e0d4cb7">update_duration_midi</a>(microseconds <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                                         <span class="keyword">const</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; oldd,</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                                         <span class="keyword">const</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; newd) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        <span class="keywordflow">if</span> ((oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> &amp;&amp; newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                            || duration == microseconds::max()) <span class="keywordflow">return</span> <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        ticktype old_quarter = oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> ? 1000000 : oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count();</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                        ticktype new_quarter = newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> ? 1000000 : newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                        ticktype old_factor = old_quarter/oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        ticktype new_factor = new_quarter/newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                        <span class="keywordflow">return</span> microseconds(((duration.count() + (old_factor+1)/2) / old_factor) * new_factor);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3b9d947bd056c5a9b46a5abfa0649b1">  426</a></span>&#160;                <span class="keyword">static</span> microseconds <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3b9d947bd056c5a9b46a5abfa0649b1">update_duration_exact</a>(microseconds <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>,</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                                          <span class="keyword">const</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; oldd,</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                                          <span class="keyword">const</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; newd) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                        <span class="keywordflow">if</span> ((oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> &amp;&amp; newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                            || duration == microseconds::max()) <span class="keywordflow">return</span> <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        ticktype old_quarter = oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> ? 1000000 : oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                        ticktype new_quarter = newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> ? 1000000 : newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>.count();</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        ticktype delta_quarter = new_quarter - old_quarter;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        ticktype duration_count = duration.count();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        <span class="keywordflow">if</span> (delta_quarter &gt; 0) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                duration_count = (duration_count * new_quarter)/old_quarter;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        <span class="keywordflow">if</span> (oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> != newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                duration_count = (duration_count * oldd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>)/newd.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        <span class="keywordflow">if</span> (delta_quarter &lt; 0) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                duration_count = (duration_count * new_quarter)/old_quarter;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        <span class="keywordflow">return</span> microseconds(duration_count);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a4ae4590f3bcc9d44dca266d87ff1c9f5">  448</a></span>&#160;                constexpr <span class="keywordtype">bool</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4a1fee96fdcbcb889ad55959d8a86c14">operator != </a>(<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; o) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                        <span class="keywordflow">return</span>  (<span class="keyword">this</span> != &amp;o) &amp;&amp;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                (<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> != o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a> ||</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                 fps != o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">fps</a> ||</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                 <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a> != o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a> ||</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                 <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a> != o.<a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <span class="keyword">operator</span> <a class="code" href="../../dc/d46/scale__lexer_8cc.html#a25093e36e9fb377b246945a84745823f">std::string</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keyword">protected</span>:</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">  459</a></span>&#160;                <span class="keywordtype">bool</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">is_fixed_ticks</a>;       <span class="comment">//&lt; indicates whether we are in MIDI time code and ignore quarter_duration</span></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">  460</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">fps</a>;                   <span class="comment">//&lt; fps rate</span></div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">  461</a></span>&#160;                microseconds <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">quarter_duration</a>; <span class="comment">//&lt; duration of quarter notes in μs</span></div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">  462</a></span>&#160;                ticktype <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">quarter_divisions</a>; <span class="comment">//&lt; divisions of quarter notes</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        };</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="../../d6/daa/namespacemutabor.html#a49ef47f288dcedfc1cd8152b4fab965a">  465</a></span>&#160;        <span class="keyword">inline</span> <a class="code" href="../../dc/d46/scale__lexer_8cc.html#a25093e36e9fb377b246945a84745823f">std::string</a> <a class="code" href="../../d6/daa/namespacemutabor.html#abae2a6ffddc4e68d7e52f67803cb091f">str</a>(<span class="keyword">const</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>) { <span class="keywordflow">return</span> <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>; }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="../../d6/daa/namespacemutabor.html#a7046ca0ebc5a03d96fa2e877ba237192">  467</a></span>&#160;        <span class="keyword">inline</span> std::ostream &amp; <a class="code" href="../../d6/daa/namespacemutabor.html#ab359ee71271c72daa34e681f42bc566d">operator &lt;&lt; </a>(std::ostream &amp; o, <span class="keyword">const</span> <a class="code" href="../../d9/de0/classmutabor_1_1timing__params.html">timing_params</a> &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">return</span> o &lt;&lt; <a class="code" href="../../d6/daa/namespacemutabor.html#abae2a6ffddc4e68d7e52f67803cb091f">str</a>(t);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="../../d6/daa/namespacemutabor.html#a3d4beede697172b029d050e58c4c5e51">  471</a></span>&#160;        <span class="keyword">inline</span> std::ostream &amp; <a class="code" href="../../d6/daa/namespacemutabor.html#ab359ee71271c72daa34e681f42bc566d">operator &lt;&lt; </a>(std::ostream &amp; o, <span class="keyword">const</span> <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">timing_params::miditicks</a> &amp;m ) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <span class="keywordflow">return</span> m.<a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a00e2c9c59838124e8ca6089b93c81af1">write</a>(o);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">//#if _XOPEN_SOURCE &gt;= 600 || _POSIX_C_SOURCE &gt;= 200112L</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">  477</a></span>&#160;        <span class="keyword">class </span><a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>: <span class="keyword">public</span> boost::chrono::high_resolution_clock {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a9e5f7296a4d1239fe5c6998be40aac96">  479</a></span>&#160;                <span class="keyword">typedef</span> <span class="keyword">typename</span> boost::chrono::high_resolution_clock <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a9e5f7296a4d1239fe5c6998be40aac96">base</a>;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a62df2ae3f40d0bedd38e52fafcc9894e">  480</a></span>&#160;                <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">base::duration</a> <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a62df2ae3f40d0bedd38e52fafcc9894e">duration</a>;</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a38d580d07aceaeb64c515e04eefd6495">  481</a></span>&#160;                <span class="keyword">typedef</span> <span class="keyword">typename</span> base::rep <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a38d580d07aceaeb64c515e04eefd6495">rep</a>;</div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a35cb0136d40eb434c4d4aebb16e2562c">  482</a></span>&#160;                <span class="keyword">typedef</span> <span class="keyword">typename</span> base::period <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a35cb0136d40eb434c4d4aebb16e2562c">period</a>;</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a64ba0fccf996aa05ef49b82c2dc7ab00">  483</a></span>&#160;                <span class="keyword">typedef</span> <span class="keyword">typename</span> base::time_point <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a64ba0fccf996aa05ef49b82c2dc7ab00">time_point</a>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a909f605e80e6de5a85ddabcecfeffcce">  485</a></span>&#160;                <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a909f605e80e6de5a85ddabcecfeffcce">CurrentTimerBase</a>():running(false) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keyword">static</span> <span class="keywordtype">void</span> Sleep(<a class="code" href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a> time) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        <span class="keyword">struct </span>timespec data,remain = {0,0};</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../de/db7/group__debug.html#gad51281d5c23e4daa2d7f85fc94935239">isDebugFlag</a>(timer)) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                clock_getres(CLOCK_MONOTONIC, &amp;data);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                <a class="code" href="../../de/db7/group__debug.html#ga9de22df51e7efa23154a04eab9e66cad">DEBUGLOGTYPE</a>(timer,</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                                             <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>,</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                             (<span class="stringliteral">&quot;Timer resolution: %d s %ld ns&quot;</span>),</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                                             (<span class="keywordtype">int</span>)data.tv_sec,</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                             data.tv_nsec);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                        }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                        data.tv_sec = time/1000000;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                        <a class="code" href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a> tmp = time % 1000000;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        <span class="keywordflow">if</span> (tmp &lt; 0) tmp+= 1000000;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        data.tv_nsec = (long)(tmp *1000);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        <a class="code" href="../../de/db7/group__debug.html#ga9de22df51e7efa23154a04eab9e66cad">DEBUGLOGTYPE</a>(timer,</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                     <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                     (<span class="stringliteral">&quot;sleeping time: %d s, %ld ns&quot;</span>),</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                     (<span class="keywordtype">int</span>)data.tv_sec,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                     data.tv_nsec);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        <span class="keywordtype">int</span> status =</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                clock_nanosleep(CLOCK_MONOTONIC,0,&amp;data,&amp;remain);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                        <a class="code" href="../../de/db7/group__debug.html#ga9de22df51e7efa23154a04eab9e66cad">DEBUGLOGTYPE</a>(timer,</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                     <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>,</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                                     (<span class="stringliteral">&quot;Remaining time: %d s, %ld ns&quot;</span>),</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                     (<span class="keywordtype">int</span>)remain.tv_sec,</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                     remain.tv_nsec);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                        <a class="code" href="../../de/d08/test__parser_8cpp.html#aa62169f8af963c3b83e07ed00e8c8496">mutASSERT</a>(status != EINTR);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                        <a class="code" href="../../de/d08/test__parser_8cpp.html#aa62169f8af963c3b83e07ed00e8c8496">mutASSERT</a>(status != EINVAL);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        <a class="code" href="../../de/d08/test__parser_8cpp.html#aa62169f8af963c3b83e07ed00e8c8496">mutASSERT</a>(status != EFAULT);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        <a class="code" href="../../de/d08/test__parser_8cpp.html#aa62169f8af963c3b83e07ed00e8c8496">mutASSERT</a>(!status);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keyword">protected</span>:</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a01c8f47b02d1ba9bdcd5d0f1703930d9">  525</a></span>&#160;                time_point <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a01c8f47b02d1ba9bdcd5d0f1703930d9">start</a>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                period resolution;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a60873c94a56ab933e6b788b2075a2b99">  529</a></span>&#160;                <span class="keywordtype">bool</span> <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a60873c94a56ab933e6b788b2075a2b99">running</a>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a2c84fb7b730492924ab628714f7dd60e">  531</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a2c84fb7b730492924ab628714f7dd60e">Start</a>(<span class="keyword">const</span> time_point &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        start = <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                        running = <span class="keyword">true</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#ad9d8f8a975bcfc5fb3edc8b12e268499">  536</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#ad9d8f8a975bcfc5fb3edc8b12e268499">Start</a>(<span class="keyword">const</span> duration &amp; d) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                        <span class="comment">//clock_getres(CLOCK_MONOTONIC,&amp;resolution);</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                        start = now() - d;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                        <a class="code" href="../../de/db7/group__debug.html#ga9de22df51e7efa23154a04eab9e66cad">DEBUGLOGTYPE</a>(timer,</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                     <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>,</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                     (<span class="stringliteral">&quot;Starting time: %s&quot;</span>),</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                     boost::lexical_cast&lt;std::string&gt;(start).c_str());</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                        running=<span class="keyword">true</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <a class="code" href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a> Time() {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        <span class="keyword">struct </span>timespec tmp;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        <a class="code" href="../../de/d08/test__parser_8cpp.html#aa62169f8af963c3b83e07ed00e8c8496">mutASSERT</a>(running);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        <span class="keywordflow">if</span> (!running)</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        clock_gettime(CLOCK_MONOTONIC,&amp;tmp);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                        tmp.tv_sec -= start.tv_sec;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                        tmp.tv_nsec -= start.tv_nsec;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                        <a class="code" href="../../de/db7/group__debug.html#ga9de22df51e7efa23154a04eab9e66cad">DEBUGLOGTYPE</a>(timer,</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                     <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                     (<span class="stringliteral">&quot;Elapsed time: %d s, %ld ns; = %ld μs&quot;</span>),</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                                     (<span class="keywordtype">int</span>)tmp.tv_sec,</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                                     tmp.tv_nsec,</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                     tmp.tv_sec *1000*1000 + tmp.tv_nsec/1000);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                        <span class="keywordflow">return</span> tmp.tv_sec *1000*1000 + tmp.tv_nsec/1000;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a3759e951a17135065151639d5fb0a87f">  566</a></span>&#160;                time_point <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a3759e951a17135065151639d5fb0a87f">Time</a>() {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                        <span class="keywordflow">if</span> (!running)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                <span class="keywordflow">return</span> time_point();</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                        <span class="keywordflow">return</span> now();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        };</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keyword">class </span><a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>:<span class="keyword">protected</span> wxStopWatch {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keyword">static</span> <span class="keywordtype">void</span> Sleep(<a class="code" href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a> time) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                        <a class="code" href="../../de/db7/group__debug.html#ga9de22df51e7efa23154a04eab9e66cad">DEBUGLOGTYPE</a>(timer,</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                     <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>,</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                     (<span class="stringliteral">&quot;wxSleeping: %lu ms&quot;</span>),</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                     (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) time/1000);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                        Thread::Sleep((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)time/1000);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keyword">protected</span>:</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keyword">struct </span>timespec start, resolution;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordtype">void</span> Start(<a class="code" href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a> <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a> = 0) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        wxStopWatch::Start(<a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>/1000);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                <a class="code" href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a> Time() {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        <span class="keywordflow">return</span> 1000*(<a class="code" href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a>)wxStopWatch::Time();</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        };</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html">  610</a></span>&#160;        <span class="keyword">class </span><a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html">CurrentTimer</a>: <span class="keyword">public</span> <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a3400ce187e4d61eb262693c2159a5dc9">  613</a></span>&#160;                <span class="keyword">typedef</span> <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a3400ce187e4d61eb262693c2159a5dc9">base</a>;</div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a7fdb589d594cb4c4b9e2f0bc1af70e55">  614</a></span>&#160;                <span class="keyword">typedef</span> <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">base::duration</a> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a7fdb589d594cb4c4b9e2f0bc1af70e55">duration</a>;</div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a5011ffedc6b1d778f5532886699461e9">  615</a></span>&#160;                <span class="keyword">typedef</span> base::rep <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a5011ffedc6b1d778f5532886699461e9">rep</a>;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a5c3b72f4acea051a3ae1750c9984ed91">  616</a></span>&#160;                <span class="keyword">typedef</span> base::period <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a5c3b72f4acea051a3ae1750c9984ed91">period</a>;</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a4ed2138bd2ca19848a7a65759bfbfcdb">  617</a></span>&#160;                <span class="keyword">typedef</span> <a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a64ba0fccf996aa05ef49b82c2dc7ab00">base::time_point</a> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a4ed2138bd2ca19848a7a65759bfbfcdb">time_point</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a06421d6f581696af166765a4a70b9499">  624</a></span>&#160;                <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a06421d6f581696af166765a4a70b9499">CurrentTimer</a>(<span class="keyword">const</span> duration &amp; d = <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>(0)):<a class="code" href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">CurrentTimerBase</a>() {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        Start(d);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        is_realtime = <span class="keyword">true</span>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#abf95effc430f51e908fe0da0bd2774e6">  632</a></span>&#160;                <span class="keyword">virtual</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#abf95effc430f51e908fe0da0bd2774e6">~CurrentTimer</a>() {}</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#aaaae9a6186045cd8ef28f1d24bcf081d">  639</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#aaaae9a6186045cd8ef28f1d24bcf081d">UseRealtime</a>(<span class="keywordtype">bool</span> flag) {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                        <span class="keywordflow">if</span> (flag == is_realtime) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                        is_realtime = flag;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                        <span class="keywordflow">if</span> (is_realtime) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                                Start(<a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>(0));</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                                time = Time();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a14c65fde17d030dfd6b5380573475ca4">  656</a></span>&#160;                <span class="keywordtype">bool</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a14c65fde17d030dfd6b5380573475ca4">isRealtime</a>() { <span class="keywordflow">return</span> is_realtime; }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#adbb52ec815f7400608b4b160185630d9">  663</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#adbb52ec815f7400608b4b160185630d9">Set</a>(<span class="keyword">const</span> duration &amp; d = <a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>(0)) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                        <span class="keywordflow">if</span> (is_realtime) {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                Start(d);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                                time = time_point() + d;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a8f5e8c13cc895499d9bcc13b6b82d988">  676</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a8f5e8c13cc895499d9bcc13b6b82d988">Set</a>(<span class="keyword">const</span> time_point &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        <span class="keywordflow">if</span> (is_realtime) {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                                Start(t);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                                time = <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                        }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ab38907f20f2e9264f036ee0d7c857947">  687</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ab38907f20f2e9264f036ee0d7c857947">Reset</a>() {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                        <span class="keywordflow">if</span> (is_realtime)</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                Start(<a class="code" href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a>(0));</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                                time = time_point();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a15aa6820331c32c15b292343b71e79da">  701</a></span>&#160;                time_point <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a15aa6820331c32c15b292343b71e79da">Get</a>() { <span class="keywordflow">return</span> is_realtime?Time():time; }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ac786e3b69adfb260915c39886e4673de">  710</a></span>&#160;                <span class="keywordtype">void</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ac786e3b69adfb260915c39886e4673de">Stop</a>() {}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a031a765555137d356bfca60c57a242e1">  719</a></span>&#160;                <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html">CurrentTimer</a>&amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a3a3f907393c77708f4050362990604f5">operator = </a>(<span class="keyword">const</span> time_point &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                        Set(t);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                        <span class="keywordflow">return</span> * <span class="keyword">this</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a8c9fd7a393490e929dad752894ccc12c">  731</a></span>&#160;                <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html">CurrentTimer</a>&amp; <a class="code" href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a3a3f907393c77708f4050362990604f5">operator = </a>(<span class="keyword">const</span> duration &amp; d) {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                        Set(d);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                        <span class="keywordflow">return</span> * <span class="keyword">this</span>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#af23a4dd2d011bd0e9eea66c97c894672">  743</a></span>&#160;                <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html">CurrentTimer</a>&amp; <a class="code" href="../../d1/de4/namespacemutabor_1_1scala__parser.html#a03cce02c038aeaa0aa94e73f85c1bc7d">operator += </a>(<span class="keyword">const</span> duration &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                        <a class="code" href="../../de/d08/test__parser_8cpp.html#aa62169f8af963c3b83e07ed00e8c8496">mutASSERT</a>(!is_realtime);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                        time += <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                        <span class="keywordflow">return</span> * <span class="keyword">this</span>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                <span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> M&gt;</div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ad51b8fcbbde09551f3a0cfd38fed2609">  760</a></span>&#160;                <span class="keyword">typename</span> <a class="code" href="../../d3/d55/classThreadCondition.html#ac53dc175ab39eaa459531b8c714f8379">ThreadCondition&lt;M&gt;::status</a> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ad51b8fcbbde09551f3a0cfd38fed2609">Sleep</a>(boost::unique_lock&lt;boost::mutex&gt; &amp; lock,</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                                          T &amp; <a class="code" href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a>,</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                                          <a class="code" href="../../d3/d55/classThreadCondition.html">ThreadCondition&lt;M&gt;</a> &amp; condition) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        <span class="keywordflow">return</span> condition.<a class="code" href="../../d3/d55/classThreadCondition.html#ad368a6bba2dc2d9dc3d1a3c849a383fb">Sleep</a>(lock,t);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> M&gt;</div><div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#aa7f713972a6a792115d4327f9b208141">  776</a></span>&#160;                <span class="keyword">typename</span> <a class="code" href="../../d3/d55/classThreadCondition.html#ac53dc175ab39eaa459531b8c714f8379">ThreadCondition&lt;M&gt;::status</a> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#aa7f713972a6a792115d4327f9b208141">Sleep</a>(T &amp; time,</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                                           <a class="code" href="../../de/d5e/classThreadSignal.html">ThreadSignal&lt;S,M&gt;</a> &amp; signal) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                        <span class="keywordflow">if</span> (time &lt; boost::chrono::steady_clock::now())</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="../../d3/d55/classThreadCondition.html">ThreadCondition&lt;M&gt;::status::wakeup</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                                boost::unique_lock&lt;boost::mutex&gt; lock(signal.<a class="code" href="../../de/d5e/classThreadSignal.html#a796dd2aada608d13f851d2f69939d435">get_mutex</a>());</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                                <span class="keywordflow">return</span> (<span class="keyword">typename</span> <a class="code" href="../../d3/d55/classThreadCondition.html#ac53dc175ab39eaa459531b8c714f8379">ThreadCondition&lt;M&gt;::status</a>)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                                        signal.<a class="code" href="../../de/d5e/classThreadSignal.html#a9cee5ed33ab2449dd1d0366347986e83">get_condition</a>().wait_until(lock, time);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <span class="comment">//using CurrentTimerBase::Sleep;</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keyword">protected</span>:</div><div class="line"><a name="l00789"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a90c87768fe5bdb8fe307e037afb01edb">  789</a></span>&#160;                time_point <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a90c87768fe5bdb8fe307e037afb01edb">time</a>; <span class="comment">//&lt; Time value for batch mode</span></div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a812e824d1d4d94e4d1b186f7f59103b0">  790</a></span>&#160;                <span class="keywordtype">bool</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a812e824d1d4d94e4d1b186f7f59103b0">is_realtime</a>; <span class="comment">//&lt; flag indicating whether we are in batch mode.</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        };</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keyword">extern</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html">CurrentTimer</a> <a class="code" href="../../d6/daa/namespacemutabor.html#ab2acff956460e39a59c206fc02dc4c99">CurrentTime</a>;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="../../d6/daa/namespacemutabor.html#ae029050dedc1e2d04a6a88b4a559904e">  796</a></span>&#160;        <span class="keyword">inline</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a7fdb589d594cb4c4b9e2f0bc1af70e55">CurrentTimer::duration</a> <a class="code" href="../../d6/daa/namespacemutabor.html#ae029050dedc1e2d04a6a88b4a559904e">operator - </a>(<span class="keyword">const</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a4ed2138bd2ca19848a7a65759bfbfcdb">CurrentTimer::time_point</a> &amp; a,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a4ed2138bd2ca19848a7a65759bfbfcdb">CurrentTimer::time_point</a> &amp; b) {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <span class="keywordflow">return</span> a.time_since_epoch() - b.time_since_epoch();</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">#endif // precompiled</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">#endif // header loaded</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a9e5f7296a4d1239fe5c6998be40aac96"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a9e5f7296a4d1239fe5c6998be40aac96">mutabor::CurrentTimerBase::base</a></div><div class="ttdeci">boost::chrono::high_resolution_clock base</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00479">timing.h:479</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_ac786e3b69adfb260915c39886e4673de"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ac786e3b69adfb260915c39886e4673de">mutabor::CurrentTimer::Stop</a></div><div class="ttdeci">void Stop()</div><div class="ttdoc">Dummy function for stopping the timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00710">timing.h:710</a></div></div>
<div class="ttc" id="scale__lexer_8cc_html_a25093e36e9fb377b246945a84745823f"><div class="ttname"><a href="../../dc/d46/scale__lexer_8cc.html#a25093e36e9fb377b246945a84745823f">string</a></div><div class="ttdeci">#define string</div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a3a3f907393c77708f4050362990604f5"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a3a3f907393c77708f4050362990604f5">mutabor::timing_params::miditicks::operator=</a></div><div class="ttdeci">miditicks &amp; operator=(const miditicks &amp;o)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00158">timing.h:158</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_ad39a933b56c1569b8c181020241273c3"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#ad39a933b56c1569b8c181020241273c3">mutabor::timing_params::set_quarter_duration</a></div><div class="ttdeci">void set_quarter_duration(const microseconds &amp;d)</div><div class="ttdoc">Set the quarter duration parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00251">timing.h:251</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a00e2c9c59838124e8ca6089b93c81af1"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a00e2c9c59838124e8ca6089b93c81af1">mutabor::timing_params::miditicks::write</a></div><div class="ttdeci">std::ostream &amp; write(std::ostream &amp;o) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00198">timing.h:198</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a861007369ffcfed8027bc97b440b640e"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a861007369ffcfed8027bc97b440b640e">mutabor::timing_params::miditicks::operator==</a></div><div class="ttdeci">constexpr bool operator==(const no_delta &amp;o) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00176">timing.h:176</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_aa15f4927b057009f4435f4e0dd4c3566"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#aa15f4927b057009f4435f4e0dd4c3566">mutabor::timing_params::fps</a></div><div class="ttdeci">int fps</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00460">timing.h:460</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a812e824d1d4d94e4d1b186f7f59103b0"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a812e824d1d4d94e4d1b186f7f59103b0">mutabor::CurrentTimer::is_realtime</a></div><div class="ttdeci">bool is_realtime</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00790">timing.h:790</a></div></div>
<div class="ttc" id="namespacemutabor_html_aa2773d800727f97ebb89368e2144c6de"><div class="ttname"><a href="../../d6/daa/namespacemutabor.html#aa2773d800727f97ebb89368e2144c6de">mutabor::clocktype</a></div><div class="ttdeci">boost::chrono::high_resolution_clock clocktype</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00067">timing.h:67</a></div></div>
<div class="ttc" id="namespacemutabor_html_abae2a6ffddc4e68d7e52f67803cb091f"><div class="ttname"><a href="../../d6/daa/namespacemutabor.html#abae2a6ffddc4e68d7e52f67803cb091f">mutabor::str</a></div><div class="ttdeci">std::string str(T obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d73/Defs_8h_source.html#l00131">Defs.h:131</a></div></div>
<div class="ttc" id="group__debug_html_ga9de22df51e7efa23154a04eab9e66cad"><div class="ttname"><a href="../../de/db7/group__debug.html#ga9de22df51e7efa23154a04eab9e66cad">DEBUGLOGTYPE</a></div><div class="ttdeci">#define DEBUGLOGTYPE(level, type,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00296">debug.h:296</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_af5335fa943414e65d324780d0590e7d3"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#af5335fa943414e65d324780d0590e7d3">mutabor::timing_params::miditicks::midi_mus</a></div><div class="ttdeci">constexpr microseconds midi_mus() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00145">timing.h:145</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_ab3b9d947bd056c5a9b46a5abfa0649b1"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#ab3b9d947bd056c5a9b46a5abfa0649b1">mutabor::timing_params::update_duration_exact</a></div><div class="ttdeci">static microseconds update_duration_exact(microseconds duration, const timing_params &amp;oldd, const timing_params &amp;newd)</div><div class="ttdoc">Update the a duration when the parameters change. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00426">timing.h:426</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_1_1no__delta_html_a8e97551963f6ac2796d9bb270cf02eaa"><div class="ttname"><a href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html#a8e97551963f6ac2796d9bb270cf02eaa">mutabor::timing_params::miditicks::no_delta::count</a></div><div class="ttdeci">static constexpr ticktype count()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00088">timing.h:88</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_abf95effc430f51e908fe0da0bd2774e6"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#abf95effc430f51e908fe0da0bd2774e6">mutabor::CurrentTimer::~CurrentTimer</a></div><div class="ttdeci">virtual ~CurrentTimer()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00632">timing.h:632</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a8c9ecfda38547766927e3c992e0d4cb7"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a8c9ecfda38547766927e3c992e0d4cb7">mutabor::timing_params::update_duration_midi</a></div><div class="ttdeci">static microseconds update_duration_midi(microseconds duration, const timing_params &amp;oldd, const timing_params &amp;newd)</div><div class="ttdoc">Update the a duration when the parameters change. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00391">timing.h:391</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_ad9d8f8a975bcfc5fb3edc8b12e268499"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#ad9d8f8a975bcfc5fb3edc8b12e268499">mutabor::CurrentTimerBase::Start</a></div><div class="ttdeci">void Start(const duration &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00536">timing.h:536</a></div></div>
<div class="ttc" id="MidiKern_8h_html"><div class="ttname"><a href="../../da/dfd/MidiKern_8h.html">MidiKern.h</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a35cb0136d40eb434c4d4aebb16e2562c"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a35cb0136d40eb434c4d4aebb16e2562c">mutabor::CurrentTimerBase::period</a></div><div class="ttdeci">base::period period</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00482">timing.h:482</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a0feed6ec7305b25c43790965c67e6836"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a0feed6ec7305b25c43790965c67e6836">mutabor::timing_params::get_quarter_duration</a></div><div class="ttdeci">constexpr microseconds get_quarter_duration() const</div><div class="ttdoc">Get the quarter duration. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00263">timing.h:263</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a38d580d07aceaeb64c515e04eefd6495"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a38d580d07aceaeb64c515e04eefd6495">mutabor::CurrentTimerBase::rep</a></div><div class="ttdeci">base::rep rep</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00481">timing.h:481</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a5489459e90d11230ccf11d0117f88f6b"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a5489459e90d11230ccf11d0117f88f6b">mutabor::timing_params::miditicks::is_in_range</a></div><div class="ttdeci">constexpr bool is_in_range(ticktype from, ticktype to) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00166">timing.h:166</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a01c8f47b02d1ba9bdcd5d0f1703930d9"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a01c8f47b02d1ba9bdcd5d0f1703930d9">mutabor::CurrentTimerBase::start</a></div><div class="ttdeci">time_point start</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00525">timing.h:525</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a64ba0fccf996aa05ef49b82c2dc7ab00"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a64ba0fccf996aa05ef49b82c2dc7ab00">mutabor::CurrentTimerBase::time_point</a></div><div class="ttdeci">base::time_point time_point</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00483">timing.h:483</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_af079d3630d39bfcdb1255ef8dabe52dd"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#af079d3630d39bfcdb1255ef8dabe52dd">mutabor::timing_params::get_MIDI_tick_signature</a></div><div class="ttdeci">std::pair&lt; uint8_t, uint8_t &gt; get_MIDI_tick_signature()</div><div class="ttdoc">Calculate the two bytes indicating the ticks per divisions field in a MIDI file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/timing_8cpp_source.html#l00045">timing.cpp:45</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a4a1fee96fdcbcb889ad55959d8a86c14"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4a1fee96fdcbcb889ad55959d8a86c14">mutabor::timing_params::miditicks::operator!=</a></div><div class="ttdeci">bool operator!=(const no_delta &amp;o) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00187">timing.h:187</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a60873c94a56ab933e6b788b2075a2b99"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a60873c94a56ab933e6b788b2075a2b99">mutabor::CurrentTimerBase::running</a></div><div class="ttdeci">bool running</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00529">timing.h:529</a></div></div>
<div class="ttc" id="Defs_8h_html"><div class="ttname"><a href="../../d1/d73/Defs_8h.html">Defs.h</a></div><div class="ttdoc">Common definitions. </div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a07e795c5aa491e75f0e693b51a2428a7"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a07e795c5aa491e75f0e693b51a2428a7">mutabor::timing_params::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the parameters to the default values. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00238">timing.h:238</a></div></div>
<div class="ttc" id="thread_8h_html"><div class="ttname"><a href="../../db/dd5/thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html">mutabor::CurrentTimerBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00477">timing.h:477</a></div></div>
<div class="ttc" id="namespacemutabor_1_1scala__parser_html_a03cce02c038aeaa0aa94e73f85c1bc7d"><div class="ttname"><a href="../../d1/de4/namespacemutabor_1_1scala__parser.html#a03cce02c038aeaa0aa94e73f85c1bc7d">mutabor::scala_parser::operator+=</a></div><div class="ttdeci">location &amp; operator+=(location &amp;res, const location &amp;end)</div><div class="ttdoc">Join two locations, in place. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/location_8hh_source.html#l00115">location.hh:115</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_ad51b8fcbbde09551f3a0cfd38fed2609"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ad51b8fcbbde09551f3a0cfd38fed2609">mutabor::CurrentTimer::Sleep</a></div><div class="ttdeci">ThreadCondition&lt; M &gt;::status Sleep(boost::unique_lock&lt; boost::mutex &gt; &amp;lock, T &amp;t, ThreadCondition&lt; M &gt; &amp;condition)</div><div class="ttdoc">Sleep for a given time of microsecounds. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00760">timing.h:760</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a7998ce323603228e48b1386a994ff349"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a7998ce323603228e48b1386a994ff349">mutabor::timing_params::miditicks::set_zero</a></div><div class="ttdeci">miditicks &amp; set_zero()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00153">timing.h:153</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a06421d6f581696af166765a4a70b9499"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a06421d6f581696af166765a4a70b9499">mutabor::CurrentTimer::CurrentTimer</a></div><div class="ttdeci">CurrentTimer(const duration &amp;d=duration(0))</div><div class="ttdoc">Constructor starting the time at a given parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00624">timing.h:624</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a2a0d5126c4623b6520696c4de4b44ad6"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a2a0d5126c4623b6520696c4de4b44ad6">mutabor::timing_params::miditicks::count_in_range</a></div><div class="ttdeci">ticktype count_in_range(ticktype from, ticktype to)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00129">timing.h:129</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_ab3c94f0ea8b4c542291a14e19784589b"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#ab3c94f0ea8b4c542291a14e19784589b">mutabor::timing_params::quarter_duration</a></div><div class="ttdeci">microseconds quarter_duration</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00461">timing.h:461</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a8f5e8c13cc895499d9bcc13b6b82d988"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a8f5e8c13cc895499d9bcc13b6b82d988">mutabor::CurrentTimer::Set</a></div><div class="ttdeci">void Set(const time_point &amp;t)</div><div class="ttdoc">Set the current time. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00676">timing.h:676</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a14c65fde17d030dfd6b5380573475ca4"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a14c65fde17d030dfd6b5380573475ca4">mutabor::CurrentTimer::isRealtime</a></div><div class="ttdeci">bool isRealtime()</div><div class="ttdoc">Return the mode of the timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00656">timing.h:656</a></div></div>
<div class="ttc" id="classThreadCondition_html_ac53dc175ab39eaa459531b8c714f8379"><div class="ttname"><a href="../../d3/d55/classThreadCondition.html#ac53dc175ab39eaa459531b8c714f8379">ThreadCondition::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00376">thread.h:376</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_aa0490dcbee65f314209c864525761e19"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#aa0490dcbee65f314209c864525761e19">mutabor::timing_params::miditicks::mus</a></div><div class="ttdeci">constexpr microseconds mus() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00135">timing.h:135</a></div></div>
<div class="ttc" id="group__kernel_html_ga78c9a8a19031e20ef02260f2ccee563a"><div class="ttname"><a href="../../d9/d7c/group__kernel.html#ga78c9a8a19031e20ef02260f2ccee563a">_mutN</a></div><div class="ttdeci">#define _mutN(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d73/Defs_8h_source.html#l00137">Defs.h:137</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a4ed2138bd2ca19848a7a65759bfbfcdb"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a4ed2138bd2ca19848a7a65759bfbfcdb">mutabor::CurrentTimer::time_point</a></div><div class="ttdeci">base::time_point time_point</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00617">timing.h:617</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_aea75bc17f57e6b33220051d33feaa782"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#aea75bc17f57e6b33220051d33feaa782">mutabor::timing_params::timing_params</a></div><div class="ttdeci">constexpr timing_params()</div><div class="ttdoc">Default Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00214">timing.h:214</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a65542a529dbc232eeaff67d2186017d6"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a65542a529dbc232eeaff67d2186017d6">mutabor::timing_params::timing_params</a></div><div class="ttdeci">constexpr timing_params(const timing_params &amp;o)</div><div class="ttdoc">Copy constructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00226">timing.h:226</a></div></div>
<div class="ttc" id="test__parser_8cpp_html_aa62169f8af963c3b83e07ed00e8c8496"><div class="ttname"><a href="../../de/d08/test__parser_8cpp.html#aa62169f8af963c3b83e07ed00e8c8496">mutASSERT</a></div><div class="ttdeci">mutASSERT(p.get_intervals==cmp)</div></div>
<div class="ttc" id="classThreadSignal_html_a796dd2aada608d13f851d2f69939d435"><div class="ttname"><a href="../../de/d5e/classThreadSignal.html#a796dd2aada608d13f851d2f69939d435">ThreadSignal::get_mutex</a></div><div class="ttdeci">mutex_type &amp; get_mutex()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00486">thread.h:486</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a2c84fb7b730492924ab628714f7dd60e"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a2c84fb7b730492924ab628714f7dd60e">mutabor::CurrentTimerBase::Start</a></div><div class="ttdeci">void Start(const time_point &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00531">timing.h:531</a></div></div>
<div class="ttc" id="classThreadCondition_html_ad368a6bba2dc2d9dc3d1a3c849a383fb"><div class="ttname"><a href="../../d3/d55/classThreadCondition.html#ad368a6bba2dc2d9dc3d1a3c849a383fb">ThreadCondition::Sleep</a></div><div class="ttdeci">status Sleep(boost::unique_lock&lt; boost::mutex &gt; &amp;lock, const T &amp;time)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00392">thread.h:392</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a62df2ae3f40d0bedd38e52fafcc9894e"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a62df2ae3f40d0bedd38e52fafcc9894e">mutabor::CurrentTimerBase::duration</a></div><div class="ttdeci">base::duration duration</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00480">timing.h:480</a></div></div>
<div class="ttc" id="namespacemutabor_html_ae029050dedc1e2d04a6a88b4a559904e"><div class="ttname"><a href="../../d6/daa/namespacemutabor.html#ae029050dedc1e2d04a6a88b4a559904e">mutabor::operator-</a></div><div class="ttdeci">CurrentTimer::duration operator-(const CurrentTimer::time_point &amp;a, const CurrentTimer::time_point &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00796">timing.h:796</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_aa7f713972a6a792115d4327f9b208141"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#aa7f713972a6a792115d4327f9b208141">mutabor::CurrentTimer::Sleep</a></div><div class="ttdeci">ThreadCondition&lt; M &gt;::status Sleep(T &amp;time, ThreadSignal&lt; S, M &gt; &amp;signal)</div><div class="ttdoc">Sleep for a given time of microsecounds. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00776">timing.h:776</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_aaaae9a6186045cd8ef28f1d24bcf081d"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#aaaae9a6186045cd8ef28f1d24bcf081d">mutabor::CurrentTimer::UseRealtime</a></div><div class="ttdeci">void UseRealtime(bool flag)</div><div class="ttdoc">Switch between realtime and batch mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00639">timing.h:639</a></div></div>
<div class="ttc" id="classThreadSignal_html_a9cee5ed33ab2449dd1d0366347986e83"><div class="ttname"><a href="../../de/d5e/classThreadSignal.html#a9cee5ed33ab2449dd1d0366347986e83">ThreadSignal::get_condition</a></div><div class="ttdeci">condition_type &amp; get_condition()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00490">thread.h:490</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_adbb52ec815f7400608b4b160185630d9"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#adbb52ec815f7400608b4b160185630d9">mutabor::CurrentTimer::Set</a></div><div class="ttdeci">void Set(const duration &amp;d=duration(0))</div><div class="ttdoc">Set the current time. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00663">timing.h:663</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_ab38907f20f2e9264f036ee0d7c857947"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#ab38907f20f2e9264f036ee0d7c857947">mutabor::CurrentTimer::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdoc">Reset the current time to epoch. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00687">timing.h:687</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html">mutabor::timing_params</a></div><div class="ttdoc">A class for managing time calculations. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00080">timing.h:80</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a2eb211d2f89fda35d77f747c7ecb2bbf"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a2eb211d2f89fda35d77f747c7ecb2bbf">mutabor::timing_params::miditicks::count</a></div><div class="ttdeci">constexpr ticktype count() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00127">timing.h:127</a></div></div>
<div class="ttc" id="namespacemutabor_html"><div class="ttname"><a href="../../d6/daa/namespacemutabor.html">mutabor</a></div><div class="ttdoc">not for headers </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/scl2mut_8cpp_source.html#l00038">scl2mut.cpp:38</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a15aa6820331c32c15b292343b71e79da"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a15aa6820331c32c15b292343b71e79da">mutabor::CurrentTimer::Get</a></div><div class="ttdeci">time_point Get()</div><div class="ttdoc">Return the current time in μs. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00701">timing.h:701</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a5011ffedc6b1d778f5532886699461e9"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a5011ffedc6b1d778f5532886699461e9">mutabor::CurrentTimer::rep</a></div><div class="ttdeci">base::rep rep</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00615">timing.h:615</a></div></div>
<div class="ttc" id="group__debug_html_gac3865ffcc8a73c3787e716c5c8a7ff72"><div class="ttname"><a href="../../de/db7/group__debug.html#gac3865ffcc8a73c3787e716c5c8a7ff72">t</a></div><div class="ttdeci">MUTABOR_EXTERN_C_END const char * t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00323">debug.h:323</a></div></div>
<div class="ttc" id="group__debug_html_gad51281d5c23e4daa2d7f85fc94935239"><div class="ttname"><a href="../../de/db7/group__debug.html#gad51281d5c23e4daa2d7f85fc94935239">isDebugFlag</a></div><div class="ttdeci">#define isDebugFlag(level)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00186">debug.h:186</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a2d06322e52f1a565efdb7e57d0bf1926"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a2d06322e52f1a565efdb7e57d0bf1926">mutabor::timing_params::is_fixed_ticks</a></div><div class="ttdeci">bool is_fixed_ticks</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00459">timing.h:459</a></div></div>
<div class="ttc" id="group__kernel_html_ga1bb8df7bf7d8902a3b46416c023bbcd4"><div class="ttname"><a href="../../d9/d7c/group__kernel.html#ga1bb8df7bf7d8902a3b46416c023bbcd4">mutint64</a></div><div class="ttdeci">#define mutint64</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d73/Defs_8h_source.html#l00105">Defs.h:105</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_acd1d82276b80f1c324c766ab721b8a48"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#acd1d82276b80f1c324c766ab721b8a48">mutabor::timing_params::set_MIDI_tick_signature</a></div><div class="ttdeci">void set_MIDI_tick_signature(uint8_t fps, uint8_t count)</div><div class="ttdoc">Calculate timing mode and timing parameters from the corresponding bytes in the MIDI file header...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/timing_8cpp_source.html#l00092">timing.cpp:92</a></div></div>
<div class="ttc" id="group__route_html_gae8e68e7c0733bdbf88aeef3bfb75808a"><div class="ttname"><a href="../../d5/dee/group__route.html#gae8e68e7c0733bdbf88aeef3bfb75808a">duration</a></div><div class="ttdeci">static frac duration</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9e/GSP_8cpp_source.html#l00070">GSP.cpp:70</a></div></div>
<div class="ttc" id="namespacemutabor_html_ab359ee71271c72daa34e681f42bc566d"><div class="ttname"><a href="../../d6/daa/namespacemutabor.html#ab359ee71271c72daa34e681f42bc566d">mutabor::operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, const frac &amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d4f/Frac_8h_source.html#l00146">Frac.h:146</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a3a9e0ea0478b2ca6e3f33a98c9f2b344"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a3a9e0ea0478b2ca6e3f33a98c9f2b344">mutabor::timing_params::ticktype</a></div><div class="ttdeci">microseconds::rep ticktype</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00083">timing.h:83</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a425f6a94cbe58e3c55119c8d0f86fe44"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a425f6a94cbe58e3c55119c8d0f86fe44">mutabor::timing_params::quarter_divisions</a></div><div class="ttdeci">ticktype quarter_divisions</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00462">timing.h:462</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_1_1no__delta_html"><div class="ttname"><a href="../../dc/ddc/classmutabor_1_1timing__params_1_1miditicks_1_1no__delta.html">mutabor::timing_params::miditicks::no_delta</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00086">timing.h:86</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_ae7380014a4355bb39ed657fab042b13a"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae7380014a4355bb39ed657fab042b13a">mutabor::timing_params::miditicks::miditicks</a></div><div class="ttdeci">constexpr miditicks(const ticktype &amp;t, timing_params &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00093">timing.h:93</a></div></div>
<div class="ttc" id="test__parser_8cpp_html_a80d88758fdda7b4bb234121699f52a2b"><div class="ttname"><a href="../../de/d08/test__parser_8cpp.html#a80d88758fdda7b4bb234121699f52a2b">p</a></div><div class="ttdeci">string_parser p(&quot;\onstant tone system\0&quot;)</div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a4fce2e6fabcda79c0b33ccf2c413f974"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a4fce2e6fabcda79c0b33ccf2c413f974">mutabor::timing_params::miditicks::miditicks</a></div><div class="ttdeci">miditicks(const microseconds &amp;ms, timing_params &amp;p, bool midi=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00097">timing.h:97</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a3400ce187e4d61eb262693c2159a5dc9"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a3400ce187e4d61eb262693c2159a5dc9">mutabor::CurrentTimer::base</a></div><div class="ttdeci">CurrentTimerBase base</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00613">timing.h:613</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a909f605e80e6de5a85ddabcecfeffcce"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a909f605e80e6de5a85ddabcecfeffcce">mutabor::CurrentTimerBase::CurrentTimerBase</a></div><div class="ttdeci">CurrentTimerBase()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00485">timing.h:485</a></div></div>
<div class="ttc" id="classThreadCondition_html"><div class="ttname"><a href="../../d3/d55/classThreadCondition.html">ThreadCondition</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00371">thread.h:371</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html">mutabor::timing_params::miditicks</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00084">timing.h:84</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a7fdb589d594cb4c4b9e2f0bc1af70e55"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a7fdb589d594cb4c4b9e2f0bc1af70e55">mutabor::CurrentTimer::duration</a></div><div class="ttdeci">base::duration duration</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00614">timing.h:614</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_ae0bbc41986ea29e01947c5bf5a04c0e1"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#ae0bbc41986ea29e01947c5bf5a04c0e1">mutabor::timing_params::miditicks::params</a></div><div class="ttdeci">timing_params &amp; params</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00204">timing.h:204</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html">mutabor::CurrentTimer</a></div><div class="ttdoc">A class for handling global timing issues. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00610">timing.h:610</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimerBase_html_a3759e951a17135065151639d5fb0a87f"><div class="ttname"><a href="../../d2/dac/classmutabor_1_1CurrentTimerBase.html#a3759e951a17135065151639d5fb0a87f">mutabor::CurrentTimerBase::Time</a></div><div class="ttdeci">time_point Time()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00566">timing.h:566</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a90c87768fe5bdb8fe307e037afb01edb"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a90c87768fe5bdb8fe307e037afb01edb">mutabor::CurrentTimer::time</a></div><div class="ttdeci">time_point time</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00789">timing.h:789</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_html_a364b485c00e2f442f055465ea0a2993b"><div class="ttname"><a href="../../d9/de0/classmutabor_1_1timing__params.html#a364b485c00e2f442f055465ea0a2993b">mutabor::timing_params::get_ticks</a></div><div class="ttdeci">constexpr ticktype get_ticks() const</div><div class="ttdoc">Get the number of ticks per time interval. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00279">timing.h:279</a></div></div>
<div class="ttc" id="classmutabor_1_1timing__params_1_1miditicks_html_a357e59ac9113ba1145a808ee2de66a7e"><div class="ttname"><a href="../../db/de1/classmutabor_1_1timing__params_1_1miditicks.html#a357e59ac9113ba1145a808ee2de66a7e">mutabor::timing_params::miditicks::ticks</a></div><div class="ttdeci">ticktype ticks</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00203">timing.h:203</a></div></div>
<div class="ttc" id="namespacemutabor_html_ab2acff956460e39a59c206fc02dc4c99"><div class="ttname"><a href="../../d6/daa/namespacemutabor.html#ab2acff956460e39a59c206fc02dc4c99">mutabor::CurrentTime</a></div><div class="ttdeci">CurrentTimer CurrentTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/timing_8cpp_source.html#l00043">timing.cpp:43</a></div></div>
<div class="ttc" id="classThreadSignal_html"><div class="ttname"><a href="../../de/d5e/classThreadSignal.html">ThreadSignal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00420">thread.h:420</a></div></div>
<div class="ttc" id="classmutabor_1_1CurrentTimer_html_a5c3b72f4acea051a3ae1750c9984ed91"><div class="ttname"><a href="../../d7/dda/classmutabor_1_1CurrentTimer.html#a5c3b72f4acea051a3ae1750c9984ed91">mutabor::CurrentTimer::period</a></div><div class="ttdeci">base::period period</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d41/timing_8h_source.html#l00616">timing.h:616</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Erzeugt am Sam Sep 15 2018 14:57:53 für Mutabor von&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.13</small></address>
</body>
</html>
